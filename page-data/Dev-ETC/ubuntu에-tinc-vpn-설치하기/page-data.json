{"componentChunkName":"component---src-templates-blog-post-js","path":"/Dev-ETC/ubuntu에-tinc-vpn-설치하기/","result":{"data":{"site":{"siteMetadata":{"title":"CyanLH.github.io","author":"CyanLH","siteUrl":"https://CyanLH.github.io","comment":{"disqusShortName":"","utterances":"CyanLH/CyanLH.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"8992cfc9-a24e-57e3-b5db-75bcb7b4fc01","excerpt":"Tinc VPN을 설치할 일이 있어 조사한 내용을 정리하고자 한다.\n이 내용은 Tinc VPN 1.0.26 버전을 기준으로 작성했다.\n따라서 가장 최근 Stable 버전인 Tinc VPN 1.0.36 과 최신베타버전 Tinc VPN 1.1pre17 과는 조금 상이할 수 있다. 모든 노드 공통 설정 tinc 설치 hosts 경로 생성 현재 사용중인 사설 ip 확인  or  방화벽 정책 추가 서버 노드 설정 tinc.conf 설정 파일 생성 및 수정 tinc 호스트 public key, private…","html":"<p>Tinc VPN을 설치할 일이 있어 조사한 내용을 정리하고자 한다.<br />\n이 내용은 Tinc VPN 1.0.26 버전을 기준으로 작성했다.<br />\n따라서 가장 최근 Stable 버전인 Tinc VPN 1.0.36 과 최신베타버전 Tinc VPN 1.1pre17 과는 조금 상이할 수 있다.</p>\n<h2 id=\"모든-노드-공통-설정\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%93%A0-%EB%85%B8%EB%93%9C-%EA%B3%B5%ED%86%B5-%EC%84%A4%EC%A0%95\" aria-label=\"모든 노드 공통 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모든 노드 공통 설정</h2>\n<h3 id=\"tinc-설치\" style=\"position:relative;\"><a href=\"#tinc-%EC%84%A4%EC%B9%98\" aria-label=\"tinc 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt update\nsudo apt upgrade\nsudo apt install tinc</code></pre></div>\n<h3 id=\"hosts-경로-생성\" style=\"position:relative;\"><a href=\"#hosts-%EA%B2%BD%EB%A1%9C-%EC%83%9D%EC%84%B1\" aria-label=\"hosts 경로 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>hosts 경로 생성</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo mkdir -p /etc/tinc/노드이름/hosts</code></pre></div>\n<h3 id=\"현재-사용중인-사설-ip-확인\" style=\"position:relative;\"><a href=\"#%ED%98%84%EC%9E%AC-%EC%82%AC%EC%9A%A9%EC%A4%91%EC%9D%B8-%EC%82%AC%EC%84%A4-ip-%ED%99%95%EC%9D%B8\" aria-label=\"현재 사용중인 사설 ip 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>현재 사용중인 사설 ip 확인</h3>\n<p><code class=\"language-text\">ifconfig</code> or <code class=\"language-text\">ip addr | grep inet</code></p>\n<h3 id=\"방화벽-정책-추가\" style=\"position:relative;\"><a href=\"#%EB%B0%A9%ED%99%94%EB%B2%BD-%EC%A0%95%EC%B1%85-%EC%B6%94%EA%B0%80\" aria-label=\"방화벽 정책 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>방화벽 정책 추가</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo ufw enable\nsudo ufw allow 22 ## ssh port\nsudo ufw allow 655 ## tinc vpn default port</code></pre></div>\n<h2 id=\"서버-노드-설정\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EB%85%B8%EB%93%9C-%EC%84%A4%EC%A0%95\" aria-label=\"서버 노드 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서버 노드 설정</h2>\n<h3 id=\"tincconf-설정-파일-생성-및-수정\" style=\"position:relative;\"><a href=\"#tincconf-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%88%98%EC%A0%95\" aria-label=\"tincconf 설정 파일 생성 및 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc.conf 설정 파일 생성 및 수정</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/노드이름/tinc.conf</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">Name = 호스트이름\nDevice = /dev/net/tun\nInterface = tun0\n\nBindToAddress = 사용중인 사설IP\nAddressFamily = ipv4</code></pre></div>\n<h3 id=\"tinc-호스트-public-key-private-key-생성-및-수정\" style=\"position:relative;\"><a href=\"#tinc-%ED%98%B8%EC%8A%A4%ED%8A%B8-public-key-private-key-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%88%98%EC%A0%95\" aria-label=\"tinc 호스트 public key private key 생성 및 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc 호스트 public key, private key 생성 및 수정</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo tincd -n 노드이름 -K4096</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/노드이름/hosts/호스트이름</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">Address = 사용중인 사설IP\nSubnet = x.x.x.1/32\nPort = 655\n\n-----BEGIN RSA **PUBLIC** KEY-----\n.....\n...\n..</code></pre></div>\n<h3 id=\"tinc-시작시-명령어-입력\" style=\"position:relative;\"><a href=\"#tinc-%EC%8B%9C%EC%9E%91%EC%8B%9C-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%9E%85%EB%A0%A5\" aria-label=\"tinc 시작시 명령어 입력 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc 시작시 명령어 입력</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/노드이름/tinc-up</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">#!/bin/sh\n/sbin/ip link set $INTERFACE up\n/sbin/ip addr add x.x.x.1/32 dev $INTERFACE\n/sbin/ip route add x.x.x.0/24 dev $INTERFACE</code></pre></div>\n<h3 id=\"tinc-종료시-명령어-입력\" style=\"position:relative;\"><a href=\"#tinc-%EC%A2%85%EB%A3%8C%EC%8B%9C-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%9E%85%EB%A0%A5\" aria-label=\"tinc 종료시 명령어 입력 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc 종료시 명령어 입력</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/노드이름/tinc-down</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">#!/bin/sh\n/sbin/ip route del x.x.x.0/24 dev $INTERFACE\n/sbin/ip addr del x.x.x.1/32 dev $INTERFACE\n/sbin/ip link set $INTERFACE down</code></pre></div>\n<h3 id=\"tinc-up-tinc-down-실행-가능하도록-권한-수정\" style=\"position:relative;\"><a href=\"#tinc-up-tinc-down-%EC%8B%A4%ED%96%89-%EA%B0%80%EB%8A%A5%ED%95%98%EB%8F%84%EB%A1%9D-%EA%B6%8C%ED%95%9C-%EC%88%98%EC%A0%95\" aria-label=\"tinc up tinc down 실행 가능하도록 권한 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc-up tinc-down 실행 가능하도록 권한 수정</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo chmod 755 /etc/tinc/노드이름/tinc-*</code></pre></div>\n<h2 id=\"클라이언트-노드-설정\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EB%85%B8%EB%93%9C-%EC%84%A4%EC%A0%95\" aria-label=\"클라이언트 노드 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클라이언트 노드 설정</h2>\n<h3 id=\"tincconf-파일-생성-및-수정\" style=\"position:relative;\"><a href=\"#tincconf-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%88%98%EC%A0%95\" aria-label=\"tincconf 파일 생성 및 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc.conf 파일 생성 및 수정</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/노드이름/tinc.conf</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">Name = 호스트이름\nDevice = /dev/net/tun\nInterface = tun0\n\nConnectTo = 서버 호스트이름\nBindToAddress = 사용중인 사설IP\nAddressFamily = ipv4</code></pre></div>\n<h3 id=\"tinc-호스트-public-key-private-key-생성-및-수정-1\" style=\"position:relative;\"><a href=\"#tinc-%ED%98%B8%EC%8A%A4%ED%8A%B8-public-key-private-key-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%88%98%EC%A0%95-1\" aria-label=\"tinc 호스트 public key private key 생성 및 수정 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc 호스트 public key, private key 생성 및 수정</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo tincd -n 노드이름 -K4096</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">Generating 4096 bits keys:\n....................++++ p\n......................................................................++++\nq\nDone.</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/노드이름/hosts/호스트이름</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">Subnet = x.x.x.n/32\nPort = 655\n\n-----BEGIN RSA PUBLIC KEY-----\nMIICC..........................................................0\n...\n..\n....\n............................................................==\n-----END RSA PUBLIC KEY-----</code></pre></div>\n<h3 id=\"tinc-시작시-명령어-입력-1\" style=\"position:relative;\"><a href=\"#tinc-%EC%8B%9C%EC%9E%91%EC%8B%9C-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%9E%85%EB%A0%A5-1\" aria-label=\"tinc 시작시 명령어 입력 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc 시작시 명령어 입력</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/노드이름/tinc-up</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">#!/bin/sh\n\n/sbin/ip link set $INTERFACE up\n/sbin/ip addr add x.x.x.n/32 dev $INTERFACE\n/sbin/ip route add x.x.x.0/24 dev $INTERFACE</code></pre></div>\n<h3 id=\"tinc-종료시-명령어-입력-1\" style=\"position:relative;\"><a href=\"#tinc-%EC%A2%85%EB%A3%8C%EC%8B%9C-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%9E%85%EB%A0%A5-1\" aria-label=\"tinc 종료시 명령어 입력 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc 종료시 명령어 입력</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/노드이름/tinc-down</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">#!/bin/sh\n\n/sbin/ip route del x.x.x.0/24 dev $INTERFACE\n/sbin/ip addr del x.x.x.n/32 dev $INTERFACE\n/sbin/ip link set $INTERFACE down</code></pre></div>\n<h3 id=\"tinc-up-tinc-down-실행-가능하도록-권한-수정-1\" style=\"position:relative;\"><a href=\"#tinc-up-tinc-down-%EC%8B%A4%ED%96%89-%EA%B0%80%EB%8A%A5%ED%95%98%EB%8F%84%EB%A1%9D-%EA%B6%8C%ED%95%9C-%EC%88%98%EC%A0%95-1\" aria-label=\"tinc up tinc down 실행 가능하도록 권한 수정 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc-up tinc-down 실행 가능하도록 권한 수정</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo chmod 755 /etc/tinc/노드이름/tinc-*</code></pre></div>\n<h2 id=\"호스트-공개-키-교환\" style=\"position:relative;\"><a href=\"#%ED%98%B8%EC%8A%A4%ED%8A%B8-%EA%B3%B5%EA%B0%9C-%ED%82%A4-%EA%B5%90%ED%99%98\" aria-label=\"호스트 공개 키 교환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>호스트 공개 키 교환</h2>\n<p>서버는 클라이언트들 모든 키를 가지고 있어야함.<br />\n각 클라이언트는 서버 공개 키만 추가로 가지고 있으면 됨.</p>\n<h3 id=\"openssh-server-설치\" style=\"position:relative;\"><a href=\"#openssh-server-%EC%84%A4%EC%B9%98\" aria-label=\"openssh server 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>openssh-server 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo apt-get install openssh-server</code></pre></div>\n<h3 id=\"scp-명령어로-호스트-파일-전송\" style=\"position:relative;\"><a href=\"#scp-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%98%B8%EC%8A%A4%ED%8A%B8-%ED%8C%8C%EC%9D%BC-%EC%A0%84%EC%86%A1\" aria-label=\"scp 명령어로 호스트 파일 전송 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scp 명령어로 호스트 파일 전송</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo scp /etc/tinc/노드이름/hosts/전송할호스트이름 PC ID\\@PC IP:~</code></pre></div>\n<h3 id=\"전송받은-호스트-파일-hosts로-이동\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%86%A1%EB%B0%9B%EC%9D%80-%ED%98%B8%EC%8A%A4%ED%8A%B8-%ED%8C%8C%EC%9D%BC-hosts%EB%A1%9C-%EC%9D%B4%EB%8F%99\" aria-label=\"전송받은 호스트 파일 hosts로 이동 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전송받은 호스트 파일 /hosts로 이동</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo mv ~/전송받은호스트파일이름\n/etc/tinc/노드이름/hosts/전송받은호스트파일이름</code></pre></div>\n<h2 id=\"부팅시-tinc-자동시작\" style=\"position:relative;\"><a href=\"#%EB%B6%80%ED%8C%85%EC%8B%9C-tinc-%EC%9E%90%EB%8F%99%EC%8B%9C%EC%9E%91\" aria-label=\"부팅시 tinc 자동시작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>부팅시 tinc 자동시작</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo vi /etc/tinc/nets.boot</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">노드이름</code></pre></div>\n<h2 id=\"tinc-시작\" style=\"position:relative;\"><a href=\"#tinc-%EC%8B%9C%EC%9E%91\" aria-label=\"tinc 시작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tinc 시작</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo systemctl enable tinc\nsudo systemctl start tinc</code></pre></div>\n<h2 id=\"연결-테스트\" style=\"position:relative;\"><a href=\"#%EC%97%B0%EA%B2%B0-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"연결 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>연결 테스트</h2>\n<p>각 노드에서 설정한 ip로 ping 테스트 진행</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">ping x.x.x.n</code></pre></div>\n<h3 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h3>\n<blockquote>\n<p><a href=\"https://www.tinc-vpn.org\" target=\"_blank\" rel=\"nofollow\">Tinc VPN</a></p>\n<p><a href=\"https://www.cyberciti.biz/faq/ubuntu-install-tinc-and-set-up-a-basic-vpn/\" target=\"_blank\" rel=\"nofollow\">Ubuntu Install Tinc and Set Up a Basic VPN - nixCraft</a></p>\n<p><a href=\"https://blog.hanaoto.me/tinc_vpn_setting_guide/\" target=\"_blank\" rel=\"nofollow\">ubuntu에서 tinc vpn 설정하기</a></p>\n</blockquote>","frontmatter":{"title":"Ubuntu에 Tinc VPN 설치하기","date":"March 03, 2021"}}},"pageContext":{"slug":"/Dev-ETC/ubuntu에-tinc-vpn-설치하기/","previous":{"fields":{"slug":"/React/antdesign-inputnumber에서-formatter에-numeral을-사용하면-안된다/"},"frontmatter":{"title":"AntDesign InputNumber에서 formatter에 numeral을 사용하면 안된다","category":"react","draft":false}},"next":null}},"staticQueryHashes":["3128451518","521680639"]}